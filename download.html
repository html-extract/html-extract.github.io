<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Hext &mdash; Download</title>
    <meta name="description" content="Get Hext for JavaScript, Node, Python, Ruby and PHP">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="canonical" href="https://hext.thomastrapp.com/download">

    
    <link rel="stylesheet" href="assets/combined.min.css">
    <script src="assets/combined.min.js"></script>
    

  </head>
  <body>

    <noscript>
      <div class="ui warning message no-radius">
        <div class="ui center aligned page container">
          <div class="header">
            Site requires Javascript
          </div>
          Syntax highlighting and the Hext editor won't work without Javascript.
        </div>
      </div>
    </noscript>

    <div class="ui main-menu">
      <div class="large-only ui container">
        <div class="ui inverted labeled icon four item stackable menu">
          <a href="/"
             class="item"
             ><img class="logo" alt="Hext" src="assets/img/hext-logo.png"></a>
          <a href="/documentation"
             class="item"
             ><i class="student icon"></i> Documentation</a>
          <a href="/download"
             class="active item"
             ><i class="download icon"></i>Get Hext</a>
          <a href="https://github.com/html-extract/hext"
             class="item"><i class="github icon"></i>Github</a>
        </div>
      </div>
      <div class="small-only">
        <div class="ui one item compact menu">
          <a href="/"
             class="item"
             ><img class="logo" alt="Hext" src="assets/img/hext-logo.png"></a>
        </div>
        <div class="ui inverted labeled icon four item compact menu">
          <a href="/documentation"
             class="item"
             ><i class="student icon"></i> Docs</a>
          <a href="/download"
             class="active item"
             ><i class="download icon"></i>Get Hext</a>
          <a href="https://github.com/html-extract/hext"
             class="item"><i class="github square icon"></i>Github</a>
        </div>
      </div>
    </div>

    <main class="ui stackable grid container page-download">
<div class="three wide column">
  <div class="ui sticky">
    <div class="jump-table-spacer"></div>
    <div class="ui secondary vertical scrollspy pointing fluid menu jump-table">
      <a class="active item" href="#get-hext">
        Install Methods
      </a>
      <a class="item" href="#htmlext">
        Command Line
      </a>
      <a class="item" href="#hext-for-python">
        Python
      </a>
      <a class="item" href="#hext-for-node">
        Node
      </a>
      <a class="item" href="#hext-for-javascript">
        JavaScript
      </a>
      <a class="item" href="#hext-for-ruby">
        Ruby
      </a>
      <a class="item" href="#hext-for-php">
        PHP
      </a>
      <a class="item" href="#build-hext-from-source">
        Build Source
      </a>
      <a class="item" href="#libhext">
        C++
      </a>
    </div>
  </div>
</div>

<div class="thirteen wide column">

  <a class="scrollspy anchor" id="get-hext"></a>
<h1 class="ui header">Get Hext</h1>
<p>
  The easiest way to use Hext is with Python, Node, a Browser or on the command line.
  If you think Hext should be available for another language, package manager, operating system or architecture, please raise an
  <a href="https://github.com/html-extract/hext/issues">issue on Github</a>.
</p>

<table class="ui celled table">
  <thead>
    <tr>
      
      <th>Install Method</th>
      
      <th>Languages</th>
      
      <th>Platforms</th>
      
      <th>Arch</th>
      
	  </tr>
	</thead>
  <tbody>
    
    <tr>
      <td data-label="Install Method">
        pip install hext
        
          &nbsp;<sup>
          
            <a href="#hext-for-python">Usage</a>
            
              <span style="color:#ccc">|</span>
            
          
            <a href="https://github.com/html-extract/hext/tree/master/libhext/bindings/python">Source</a>
            
          
          </sup>
        
      </td>
      <td data-label="Languages">
        Python v3.9-3.13 <sup><a href="https://pypi.org/project/hext/">PyPI</a></sup>, <a href="#htmlext">htmlext</a></td>
      <td data-label="Platforms">
        macOS, Linux</td>
      <td data-label="Arch">
        x86-64, arm64</td>
    </tr>
    
    <tr>
      <td data-label="Install Method">
        npm install hext
        
          &nbsp;<sup>
          
            <a href="#hext-for-node">Usage</a>
            
              <span style="color:#ccc">|</span>
            
          
            <a href="https://github.com/html-extract/hext/tree/master/libhext/bindings/nodejs">Source</a>
            
          
          </sup>
        
      </td>
      <td data-label="Languages">
        Node v20-24 <sup><a href="https://www.npmjs.com/package/hext">npmjs</a></sup></td>
      <td data-label="Platforms">
        macOS, Linux</td>
      <td data-label="Arch">
        x86-64, arm64</td>
    </tr>
    
    <tr>
      <td data-label="Install Method">
        npm install hext.js
        
          &nbsp;<sup>
          
            <a href="#hext-for-javascript">Usage</a>
            
              <span style="color:#ccc">|</span>
            
          
            <a href="https://github.com/html-extract/hext.js">Source</a>
            
          
          </sup>
        
      </td>
      <td data-label="Languages">
        JavaScript (WebAssembly)</td>
      <td data-label="Platforms">
        Browser, Node</td>
      <td data-label="Arch">
        All</td>
    </tr>
    
    <tr>
      <td data-label="Install Method">
        Build from source
        
          &nbsp;<sup>
          
            <a href="#build-hext-from-source">Instructions</a>
            
              <span style="color:#ccc">|</span>
            
          
            <a href="https://github.com/html-extract/hext">Github</a>
            
          
          </sup>
        
      </td>
      <td data-label="Languages">
        <a href="/libhext-documentation/">C++</a>, <a href="https://github.com/html-extract/hext/tree/master/libhext/bindings/python">Python</a>, <a href="https://github.com/html-extract/hext/tree/master/libhext/bindings/nodejs">Node</a>, <a href="https://github.com/html-extract/hext/tree/master/libhext/bindings/ruby">Ruby</a>, <a href="https://github.com/html-extract/hext/tree/master/libhext/bindings/php">PHP</a></td>
      <td data-label="Platforms">
        All</td>
      <td data-label="Arch">
        All</td>
    </tr>
    
  </tbody>
</table>

  <a class="scrollspy anchor" id="htmlext"></a>
<h1 class="ui header">Hext on the command line</h1>
<div class="ui doubling top aligned two column grid">
  <div class="six wide column">
    <p class="operator-list">
      <b>htmlext</b> is a command line utility that accepts Hext templates,
      matches them against HTML files and outputs JSON.
    </p>
    <p>
      Every rule tree match gets its own JSON object containing the captured
      name-value pairs.
    </p>
    <p class="operator-list">
      <b>htmlext</b> detects whether its output is written to a terminal or
      to a pipe. In the former case, every JSON object is pretty-printed, in
      the latter the output is compacted, printing one object on each line.
      You can force either behavior by using <b>--pretty</b> or <b>--compact</b>.
    </p>
    <p class="operator-list">
      Another notable option is <b>--filter&nbsp;&lt;key&gt;</b>, which will
      print nothing but the value of every capture whose name equals
      <b>&lt;key&gt;</b>, one per line.
    </p>
  </div>
  <div class="ten wide column">
    <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'>htmlext - Extract structured content from HTML.
</div><div class='ace_line'>
</div><div class='ace_line'>Usage:
</div><div class='ace_line'>  htmlext [options] &#60;hext-file> &#60;html-file...>
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>  Apply extraction rules from &#60;hext-file> to each
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>  &#60;html-file> and print the captured content as JSON.
</div><div class='ace_line'>
</div><div class='ace_line'>Options:
</div><div class='ace_line'>  -x [ --hext ] &#60;file>           Add Hext from file
</div><div class='ace_line'>  -i [ --html ] &#60;file>           Add HTML from file
</div><div class='ace_line'>  -s [ --str ] &#60;string>          Add Hext from string
</div><div class='ace_line'>  -c [ --compact ]               Print one JSON object per line
</div><div class='ace_line'>  -p [ --pretty ]                Pretty-print JSON
</div><div class='ace_line'>  -a [ --array ]                 Wrap results in a JSON array
</div><div class='ace_line'>  -f [ --filter ] &#60;key>          Print values whose name matches &#60;key>
</div><div class='ace_line'>  -l [ --lint ]                  Do Hext syntax check
</div><div class='ace_line'>  -m [ --max-searches ] &#60;amount> Abort after this many searches. The
</div><div class='ace_line'><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span> default is 0, which never aborts.
</div><div class='ace_line'>  -h [ --help ]                  Print this help message
</div><div class='ace_line'>  -V [ --version ]               Print info and version
</div></div></div></code></pre>
  </div>
</div>
<a class="anchor" id="htmlext-examples"></a>
<h3 class="ui header">Some examples using htmlext</h3>
<div class="ui doubling top aligned two column grid">
  <div class="nine wide column">
    <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># extract all hrefs from page.html</span>
</div><div class='ace_line'><span class='ace_identifier'>htmlext</span> <span class='ace_keyword ace_operator'>-</span><span class='ace_identifier'>s</span> <span class='ace_string ace_start'>&#34;</span><span class='ace_string'>&#60;a href:h /></span><span class='ace_string ace_end'>&#34;</span> <span class='ace_keyword ace_operator'>-</span><span class='ace_identifier'>i</span> <span class='ace_identifier'>page</span>.<span class='ace_identifier'>html</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'># use jq to display the most upvoted reddit thread</span>
</div><div class='ace_line'><span class='ace_identifier'>htmlext</span> <span class='ace_keyword ace_operator'>-</span><span class='ace_identifier'>a</span> <span class='ace_keyword ace_operator'>-</span><span class='ace_identifier'>s</span> <span class='ace_string ace_start'>&#34;</span>
</div><div class='ace_line'><span class='ace_string'>&#60;div class=&#39;midcol&#39;></span>
</div><div class='ace_line'><span class='ace_string'>  &#60;div class=&#39;unvoted&#39; title:score /></span>
</div><div class='ace_line'><span class='ace_string'>&#60;/div></span>
</div><div class='ace_line'><span class='ace_string'>&#60;div class=&#39;entry&#39;></span>
</div><div class='ace_line'><span class='ace_string'>  &#60;div></span>
</div><div class='ace_line'><span class='ace_string'>    &#60;p class=&#39;title&#39;></span>
</div><div class='ace_line'><span class='ace_indent-guide'>    </span><span class='ace_string'>  &#60;a href:link @text:title /></span>
</div><div class='ace_line'><span class='ace_string'>    &#60;/p></span>
</div><div class='ace_line'><span class='ace_string'>  &#60;/div></span>
</div><div class='ace_line'><span class='ace_string'>&#60;/div></span><span class='ace_string ace_end'>&#34;</span> \
</div><div class='ace_line'> <span class='ace_keyword ace_operator'>-</span><span class='ace_identifier'>i</span> <span class='ace_keyword ace_operator'>&#60;</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>curl</span> <span class='ace_keyword ace_operator'>-</span><span class='ace_identifier'>A</span> <span class='ace_string ace_start'>&#34;F</span><span class='ace_string ace_end'>&#34;</span> <span class='ace_identifier'>https</span>:<span class='ace_keyword ace_operator'>//</span><span class='ace_identifier'>old</span>.<span class='ace_identifier'>reddit</span>.<span class='ace_identifier'>com</span><span class='ace_keyword ace_operator'>/</span><span class='ace_identifier'>r</span><span class='ace_keyword ace_operator'>/</span><span class='ace_identifier'>programming</span><span class='ace_keyword ace_operator'>/</span><span class='ace_paren ace_rparen'>)</span>\
</div><div class='ace_line'> <span class='ace_keyword ace_operator'>|</span> <span class='ace_identifier'>jq</span> <span class='ace_string ace_start'>&#39;</span><span class='ace_string'>sort_by(.score | tonumber) | last</span><span class='ace_string ace_end'>&#39;</span>
</div><div class='ace_line'></div>
<div class='ace_line'><span class='ace_comment'># apply href.hext to all html files</span>
</div><div class='ace_line'><span class='ace_identifier'>htmlext</span> <span class='ace_identifier'>href</span>.<span class='ace_identifier'>hext</span> <span class='ace_keyword ace_operator'>*</span>.<span class='ace_identifier'>html</span>
</div></div></div></code></pre>
  </div>
  <div class="seven wide column">
    <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># download every image with wget</span>
</div><div class='ace_line'><span class='ace_identifier'>htmlext</span> <span class='ace_keyword ace_operator'>-</span><span class='ace_identifier'>s</span> <span class='ace_string'>"&#60;img src:x /&#62;"</span>            \
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>    <span class='ace_keyword ace_operator'>-</span><span class='ace_identifier'>f</span> <span class='ace_identifier'>x</span>                          \
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>    <span class='ace_keyword ace_operator'>-</span><span class='ace_identifier'>i</span> <span class='ace_keyword ace_operator'>&#60;</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>curl</span> <span class='ace_string'>"https://yoursite/"</span><span class='ace_paren ace_rparen'>)</span>\
</div><div class='ace_line'>  | <span class='ace_identifier'>xargs</span> <span class='ace_identifier'>wget</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'># extract external links and check</span>
</div><div class='ace_line'><span class='ace_comment'># if they are dead</span>
</div><div class='ace_line'><span class='ace_identifier'>htmlext</span> <span class='ace_keyword ace_operator'>-</span><span class='ace_identifier'>s</span> <span class='ace_string'>"&#60;* href^='http' href:x /&#62;"</span>\
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>    <span class='ace_keyword ace_operator'>-</span><span class='ace_identifier'>s</span> <span class='ace_string'>"&#60;*  src^='http'  src:x /&#62;"</span>\
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>    <span class='ace_keyword ace_operator'>-</span><span class='ace_identifier'>f</span> <span class='ace_identifier'>x</span>                          \
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>    <span class='ace_keyword ace_operator'>-</span><span class='ace_identifier'>i</span> <span class='ace_keyword ace_operator'>&#60;</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>curl</span> <span class='ace_identifier'>https</span>:<span class='ace_keyword ace_operator'>//</span><span class='ace_identifier'>yoursite</span><span class='ace_paren ace_rparen'>)</span>   \
</div><div class='ace_line'>  | <span class='ace_identifier'>sort</span>                              \
</div><div class='ace_line'>  | <span class='ace_identifier'>uniq</span>                              \
</div><div class='ace_line'>  | <span class='ace_keyword'>while</span> <span class='ace_keyword'>read</span> <span class='ace_keyword ace_operator'>-</span><span class='ace_identifier'>r</span> <span class='ace_identifier'>link</span> ; <span class='ace_keyword'>do</span>
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>  <span class='ace_comment'># print link if curl fails</span>
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>  <span class='ace_identifier'>curl</span> <span class='ace_keyword ace_operator'>-</span><span class='ace_identifier'>sf</span> <span class='ace_string'>"</span><span class='ace_constant'>$link</span><span class='ace_string'>"</span> <span class='ace_keyword ace_operator'>&#62;</span> <span class='ace_keyword ace_operator'>/</span><span class='ace_identifier'>dev</span><span class='ace_keyword ace_operator'>/</span><span class='ace_identifier'>null</span>    \
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>    || <span class='ace_support ace_function ace_builtin'>echo</span> <span class='ace_string'>"</span><span class='ace_constant'>$link</span><span class='ace_string'>"</span>
</div><div class='ace_line'>    <span class='ace_keyword'>done</span>
</div></div></div></code></pre>
  </div>
  <div class="sixteen wide column">
    <p class="operator-list">
      Check out <a href="https://stedolan.github.io/jq/">jq</a>,
      an indispensable tool when dealing with JSON in the shell.
    </p>
  </div>
</div>

  <a class="scrollspy anchor" id="hext-for-python"></a>
<h1 class="ui header">Hext for Python</h1>
<div class="ui doubling top aligned two column grid">
  <div class="sixteen wide column operator-list">
    Run &nbsp;<b>pip install hext</b>&nbsp;, which installs Hext as
    a python module and the <a href="#htmlext">htmlext command line utility</a>.
    See the example below for usage instructions.
    Also check out
<a href="https://github.com/html-extract/hext/blob/master/libhext/bindings/python/htmlext.py">htmlext.py</a>
    which is a stripped down Python port of the htmlext command line utility.
  </div>
  <div class="sixteen wide column">
    <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_keyword'>import</span> <span class='ace_identifier'>hext</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'># hext.Html&#39;s constructor expects a single argument</span>
</div><div class='ace_line'><span class='ace_comment'># containing an UTF-8 encoded string of HTML.</span>
</div><div class='ace_line'><span class='ace_identifier'>html</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_identifier'>hext</span><span class='ace_punctuation'>.</span><span class='ace_function ace_support'>Html</span><span class='ace_paren ace_lparen'>(</span><span class='ace_string'>&#34;&#34;&#34;</span>
</div><div class='ace_line'><span class='ace_string'>    &#60;a href=&#34;one.html&#34;>  &#60;img src=&#34;one.jpg&#34; />  &#60;/a></span>
</div><div class='ace_line'><span class='ace_string'>    &#60;a href=&#34;two.html&#34;>  &#60;img src=&#34;two.jpg&#34; />  &#60;/a></span>
</div><div class='ace_line'><span class='ace_string'>    &#60;a href=&#34;three.html&#34;>&#60;img src=&#34;three.jpg&#34; />&#60;/a>&#34;&#34;&#34;</span><span class='ace_paren ace_rparen'>)</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'># hext.Rule&#39;s constructor expects a single argument</span>
</div><div class='ace_line'><span class='ace_comment'># containing a Hext snippet.</span>
</div><div class='ace_line'><span class='ace_comment'># Throws an exception of type ValueError on invalid syntax.</span>
</div><div class='ace_line'><span class='ace_identifier'>rule</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_identifier'>hext</span><span class='ace_punctuation'>.</span><span class='ace_function ace_support'>Rule</span><span class='ace_paren ace_lparen'>(</span><span class='ace_string'>&#34;&#60;a href:link>  &#60;img src:image />  &#60;/a>&#34;</span><span class='ace_paren ace_rparen'>)</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'># hext.Rule.extract expects an argument of type hext.Html.</span>
</div><div class='ace_line'><span class='ace_comment'># Returns a list of dictionaries.</span>
</div><div class='ace_line'><span class='ace_identifier'>results</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_identifier'>rule</span><span class='ace_punctuation'>.</span><span class='ace_function ace_support'>extract</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>html</span><span class='ace_paren ace_rparen'>)</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'># hext.Rule.extract has a second, optional parameter</span>
</div><div class='ace_line'><span class='ace_comment'># of type unsigned int, called max_searches.</span>
</div><div class='ace_line'><span class='ace_comment'># The search for matching elements is aborted by</span>
</div><div class='ace_line'><span class='ace_comment'># throwing an exception after this limit is reached.</span>
</div><div class='ace_line'><span class='ace_comment'># The default is 0, which never aborts. If running</span>
</div><div class='ace_line'><span class='ace_comment'># untrusted hext templates, it is recommend to set</span>
</div><div class='ace_line'><span class='ace_comment'># max_searches to some high value, like 10000, to</span>
</div><div class='ace_line'><span class='ace_comment'># protect against resource exhaustion.</span>
</div><div class='ace_line'><span class='ace_comment'># results = rule.extract(html, 10000);</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'># print each key-value pair</span>
</div><div class='ace_line'><span class='ace_keyword'>for</span> <span class='ace_identifier'>group</span> <span class='ace_keyword'>in</span> <span class='ace_identifier'>results</span><span class='ace_punctuation'>:</span>
</div><div class='ace_line'>    <span class='ace_keyword'>for</span> <span class='ace_identifier'>key</span> <span class='ace_keyword'>in</span> <span class='ace_identifier'>group</span><span class='ace_punctuation'>:</span>
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>    <span class='ace_keyword'>print</span> <span class='ace_string'>&#39;{}: {}&#39;</span><span class='ace_punctuation'>.</span><span class='ace_function ace_support'>format</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>key</span><span class='ace_punctuation'>,</span> <span class='ace_identifier'>group</span><span class='ace_paren ace_lparen'>[</span><span class='ace_identifier'>key</span><span class='ace_paren ace_rparen'>])</span>
</div><div class='ace_line'>    <span class='ace_keyword'>print</span>
</div></div></div></code></pre>
  </div>
  <div class="sixteen wide column">
    <a href="https://scrapy.org/">Scrapy</a> is one of the most prolific tools when it
    comes to crawling the web. For an example on how to use Hext with Scrapy, checkout <a href="https://github.com/html-extract/hext-scrapy-quotesbot">github.com/html-extract/hext-scrapy-quotesbot</a>.
  </div>
</div>

  <a class="scrollspy anchor" id="hext-for-node"></a>
<h1 class="ui header">Hext for Node</h1>
<div class="ui doubling top aligned two column grid">
  <div class="sixteen wide column">
    Run &nbsp;<b>npm install hext</b>&nbsp;, which installs Hext as
    a node module.
    See the example below for usage instructions.
    Also check out
<a href="https://github.com/html-extract/hext/blob/master/libhext/bindings/nodejs/htmlext.js">htmlext.js</a>
    which is a stripped down JavaScript port of the htmlext command line
    utility.
  </div>
  <div class="sixteen wide column">
    <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_storage ace_type'>var</span> <span class='ace_identifier'>hext</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_identifier'>require</span><span class='ace_paren ace_lparen'>(</span><span class='ace_string'>&#39;hext&#39;</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'>// hext.Html&#39;s constructor expects a single argument</span>
</div><div class='ace_line'><span class='ace_comment'>// containing an UTF-8 encoded string of HTML.</span>
</div><div class='ace_line'><span class='ace_storage ace_type'>var</span> <span class='ace_identifier'>html</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_keyword'>new</span> <span class='ace_identifier'>hext</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>Html</span><span class='ace_paren ace_lparen'>(</span>
</div><div class='ace_line'>  <span class='ace_string'>&#39;&#60;a href=&#34;one.html&#34;>  &#60;img src=&#34;one.jpg&#34; />  &#60;/a>&#39;</span> <span class='ace_keyword ace_operator'>+</span>
</div><div class='ace_line'>  <span class='ace_string'>&#39;&#60;a href=&#34;two.html&#34;>  &#60;img src=&#34;two.jpg&#34; />  &#60;/a>&#39;</span> <span class='ace_keyword ace_operator'>+</span>
</div><div class='ace_line'>  <span class='ace_string'>&#39;&#60;a href=&#34;three.html&#34;>&#60;img src=&#34;three.jpg&#34; />&#60;/a>&#39;</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'>// hext.Rule&#39;s constructor expects a single argument</span>
</div><div class='ace_line'><span class='ace_comment'>// containing a Hext snippet.</span>
</div><div class='ace_line'><span class='ace_comment'>// Throws an Error on invalid syntax, with</span>
</div><div class='ace_line'><span class='ace_comment'>// Error.message containing the error description.</span>
</div><div class='ace_line'><span class='ace_storage ace_type'>var</span> <span class='ace_identifier'>rule</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_keyword'>new</span> <span class='ace_identifier'>hext</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>Rule</span><span class='ace_paren ace_lparen'>(</span><span class='ace_string'>&#39;&#60;a href:link>&#39;</span> <span class='ace_keyword ace_operator'>+</span>
</div><div class='ace_line'><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span> <span class='ace_string'>&#39;  &#60;img src:image />&#39;</span> <span class='ace_keyword ace_operator'>+</span>
</div><div class='ace_line'><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span> <span class='ace_string'>&#39;&#60;/a>&#39;</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'>// hext.Rule.extract expects an argument of type</span>
</div><div class='ace_line'><span class='ace_comment'>// hext.Html. Returns an Array containing Objects</span>
</div><div class='ace_line'><span class='ace_comment'>// which contain key-value pairs of type String.</span>
</div><div class='ace_line'><span class='ace_storage ace_type'>var</span> <span class='ace_identifier'>result</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_identifier'>rule</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>extract</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>html</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'>// hext.Rule.extract has a second, optional parameter</span>
</div><div class='ace_line'><span class='ace_comment'>// of type unsigned int, called max_searches.</span>
</div><div class='ace_line'><span class='ace_comment'>// The search for matching elements is aborted by</span>
</div><div class='ace_line'><span class='ace_comment'>// throwing an exception after this limit is reached.</span>
</div><div class='ace_line'><span class='ace_comment'>// The default is 0, which never aborts. If running</span>
</div><div class='ace_line'><span class='ace_comment'>// untrusted hext templates, it is recommend to set</span>
</div><div class='ace_line'><span class='ace_comment'>// max_searches to some high value, like 10000, to</span>
</div><div class='ace_line'><span class='ace_comment'>// protect against resource exhaustion.</span>
</div><div class='ace_line'><span class='ace_comment'>// var result = rule.extract(html, 10000);</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'>// print each key-value pair</span>
</div><div class='ace_line'><span class='ace_keyword'>for</span><span class='ace_paren ace_lparen'>(</span><span class='ace_storage ace_type'>var</span> <span class='ace_identifier'>i</span> <span class='ace_keyword'>in</span> <span class='ace_identifier'>result</span><span class='ace_paren ace_rparen'>)</span>
</div><div class='ace_line'><span class='ace_paren ace_lparen'>{</span>
</div><div class='ace_line'>  <span class='ace_keyword'>for</span><span class='ace_paren ace_lparen'>(</span><span class='ace_storage ace_type'>var</span> <span class='ace_identifier'>key</span> <span class='ace_keyword'>in</span> <span class='ace_identifier'>result</span><span class='ace_paren ace_lparen'>[</span><span class='ace_identifier'>i</span><span class='ace_paren ace_rparen'>])</span>
</div><div class='ace_line'>    <span class='ace_storage ace_type'>console</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_support ace_function ace_firebug'>log</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>key</span><span class='ace_punctuation ace_operator'>,</span> <span class='ace_string'>&#34;->&#34;</span><span class='ace_punctuation ace_operator'>,</span> <span class='ace_identifier'>result</span><span class='ace_paren ace_lparen'>[</span><span class='ace_identifier'>i</span><span class='ace_paren ace_rparen'>]</span><span class='ace_paren ace_lparen'>[</span><span class='ace_identifier'>key</span><span class='ace_paren ace_rparen'>])</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>  <span class='ace_storage ace_type'>console</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_support ace_function ace_firebug'>log</span><span class='ace_paren ace_lparen'>(</span><span class='ace_paren ace_rparen'>)</span>
</div><div class='ace_line'><span class='ace_paren ace_rparen'>}</span>
</div></div></div></code></pre>
  </div>
</div>

  <a class="scrollspy anchor" id="hext-for-javascript"></a>
<h1 class="ui header">Hext for JavaScript</h1>
<div class="ui doubling top aligned two column grid">
  <div class="sixteen wide column">
    Hext for JavaScript is available on a CDN.
    See the examples below for usage instructions.
  </div>
  <div class="sixteen wide column">
    <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_meta ace_tag ace_punctuation ace_tag-open ace_xml'>&#60;</span><span class='ace_meta ace_tag ace_script ace_tag-name ace_xml'>script</span><span class='ace_text ace_tag-whitespace ace_xml'> </span><span class='ace_entity ace_other ace_attribute-name ace_xml'>src</span><span class='ace_keyword ace_operator ace_attribute-equals ace_xml'>=</span><span class='ace_string ace_attribute-value ace_xml'>&#34;https://cdn.jsdelivr.net/gh/html-extract/hext.js@v1.0.13/dist/hext.js&#34;</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>></span><span class='ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml'>&#60;/</span><span class='ace_meta ace_tag ace_script ace_tag-name ace_xml'>script</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>></span>
</div><div class='ace_line'><span class='ace_meta ace_tag ace_punctuation ace_tag-open ace_xml'>&#60;</span><span class='ace_meta ace_tag ace_script ace_tag-name ace_xml'>script</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>></span>
</div><div class='ace_line'><span class='ace_paren ace_lparen'>(</span><span class='ace_storage ace_type'>function</span><span class='ace_paren ace_lparen'>(</span><span class='ace_paren ace_rparen'>)</span> <span class='ace_paren ace_lparen'>{</span>
</div><div class='ace_line'>  <span class='ace_comment'>// loadHext() returns a promise</span>
</div><div class='ace_line'>  <span class='ace_identifier'>loadHext</span><span class='ace_paren ace_lparen'>(</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>then</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>hext</span> <span class='ace_storage ace_type'>=></span> <span class='ace_paren ace_lparen'>{</span>
</div><div class='ace_line'>    <span class='ace_comment'>// hext.Html&#39;s constructor expects a single argument</span>
</div><div class='ace_line'>    <span class='ace_comment'>// containing an UTF-8 encoded string of HTML.</span>
</div><div class='ace_line'>    <span class='ace_storage ace_type'>const</span> <span class='ace_identifier'>html</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_keyword'>new</span> <span class='ace_identifier'>hext</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>Html</span><span class='ace_paren ace_lparen'>(</span>
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>  <span class='ace_string'>&#39;&#60;a href=&#34;one.html&#34;>  &#60;img src=&#34;one.jpg&#34; />  &#60;/a>&#39;</span> <span class='ace_keyword ace_operator'>+</span>
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>  <span class='ace_string'>&#39;&#60;a href=&#34;two.html&#34;>  &#60;img src=&#34;two.jpg&#34; />  &#60;/a>&#39;</span> <span class='ace_keyword ace_operator'>+</span>
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>  <span class='ace_string'>&#39;&#60;a href=&#34;three.html&#34;>&#60;img src=&#34;three.jpg&#34; />&#60;/a>&#39;</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>
</div><div class='ace_line'>    <span class='ace_comment'>// hext.Rule&#39;s constructor expects a single argument</span>
</div><div class='ace_line'>    <span class='ace_comment'>// containing a Hext snippet.</span>
</div><div class='ace_line'>    <span class='ace_comment'>// Throws an Error on invalid syntax, with</span>
</div><div class='ace_line'>    <span class='ace_comment'>// Error.message containing the error description.</span>
</div><div class='ace_line'>    <span class='ace_storage ace_type'>const</span> <span class='ace_identifier'>rule</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_keyword'>new</span> <span class='ace_identifier'>hext</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>Rule</span><span class='ace_paren ace_lparen'>(</span><span class='ace_string'>&#39;&#60;a href:link>&#39;</span> <span class='ace_keyword ace_operator'>+</span>
</div><div class='ace_line'><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span>   <span class='ace_string'>&#39;  &#60;img src:image />&#39;</span> <span class='ace_keyword ace_operator'>+</span>
</div><div class='ace_line'><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span>   <span class='ace_string'>&#39;&#60;/a>&#39;</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>
</div><div class='ace_line'>    <span class='ace_comment'>// hext.Rule.extract expects an argument of type</span>
</div><div class='ace_line'>    <span class='ace_comment'>// hext.Html. Returns an Array containing Objects</span>
</div><div class='ace_line'>    <span class='ace_comment'>// which contain key-value pairs of type String.</span>
</div><div class='ace_line'>    <span class='ace_storage ace_type'>const</span> <span class='ace_identifier'>result</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_identifier'>rule</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>extract</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>html</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>
</div><div class='ace_line'>    <span class='ace_comment'>// hext.Rule.extract has a second, optional parameter</span>
</div><div class='ace_line'>    <span class='ace_comment'>// of type unsigned int, called max_searches.</span>
</div><div class='ace_line'>    <span class='ace_comment'>// The search for matching elements is aborted by</span>
</div><div class='ace_line'>    <span class='ace_comment'>// throwing an exception after this limit is reached.</span>
</div><div class='ace_line'>    <span class='ace_comment'>// The default is 0, which never aborts. If running</span>
</div><div class='ace_line'>    <span class='ace_comment'>// untrusted hext templates, it is recommend to set</span>
</div><div class='ace_line'>    <span class='ace_comment'>// max_searches to some high value, like 10000, to</span>
</div><div class='ace_line'>    <span class='ace_comment'>// protect against resource exhaustion.</span>
</div><div class='ace_line'>    <span class='ace_comment'>// const result = rule.extract(html, 10000);</span>
</div><div class='ace_line'>
</div><div class='ace_line'>    <span class='ace_comment'>// print each key-value pair</span>
</div><div class='ace_line'>    <span class='ace_keyword'>for</span><span class='ace_paren ace_lparen'>(</span><span class='ace_storage ace_type'>var</span> <span class='ace_identifier'>i</span> <span class='ace_keyword'>in</span> <span class='ace_identifier'>result</span><span class='ace_paren ace_rparen'>)</span>
</div><div class='ace_line'>    <span class='ace_paren ace_lparen'>{</span>
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>  <span class='ace_keyword'>for</span><span class='ace_paren ace_lparen'>(</span><span class='ace_storage ace_type'>var</span> <span class='ace_identifier'>key</span> <span class='ace_keyword'>in</span> <span class='ace_identifier'>result</span><span class='ace_paren ace_lparen'>[</span><span class='ace_identifier'>i</span><span class='ace_paren ace_rparen'>])</span>
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>    <span class='ace_storage ace_type'>console</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_support ace_function ace_firebug'>log</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>key</span><span class='ace_punctuation ace_operator'>,</span> <span class='ace_string'>&#34;->&#34;</span><span class='ace_punctuation ace_operator'>,</span> <span class='ace_identifier'>result</span><span class='ace_paren ace_lparen'>[</span><span class='ace_identifier'>i</span><span class='ace_paren ace_rparen'>]</span><span class='ace_paren ace_lparen'>[</span><span class='ace_identifier'>key</span><span class='ace_paren ace_rparen'>])</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>  <span class='ace_storage ace_type'>console</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_support ace_function ace_firebug'>log</span><span class='ace_paren ace_lparen'>(</span><span class='ace_paren ace_rparen'>)</span>
</div><div class='ace_line'>    <span class='ace_paren ace_rparen'>}</span>
</div><div class='ace_line'>  <span class='ace_paren ace_rparen'>})</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'><span class='ace_paren ace_rparen'>})</span><span class='ace_paren ace_lparen'>(</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'><span class='ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml'>&#60;/</span><span class='ace_meta ace_tag ace_script ace_tag-name ace_xml'>script</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>></span>
</div></div></div></code></pre>
  </div>
  <div class="sixteen wide column">
    Hext for JavaScript is also available as hext.mjs, which is a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules">JavaScript module</a>.
  </div>
  <div class="sixteen wide column">
    <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_meta ace_tag ace_punctuation ace_tag-open ace_xml'>&#60;</span><span class='ace_meta ace_tag ace_script ace_tag-name ace_xml'>script</span><span class='ace_text ace_tag-whitespace ace_xml'> </span><span class='ace_entity ace_other ace_attribute-name ace_xml'>type</span><span class='ace_keyword ace_operator ace_attribute-equals ace_xml'>=</span><span class='ace_string ace_attribute-value ace_xml'>&#34;module&#34;</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>></span>
</div><div class='ace_line'>  <span class='ace_keyword'>import</span> <span class='ace_identifier'>hext</span> <span class='ace_keyword'>from</span> <span class='ace_string'>&#34;https://cdn.jsdelivr.net/gh/html-extract/hext.js@v1.0.13/dist/hext.mjs&#34;</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>  <span class='ace_storage ace_type'>const</span> <span class='ace_identifier'>html</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_keyword'>new</span> <span class='ace_identifier'>hext</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>Html</span><span class='ace_paren ace_lparen'>(</span><span class='ace_string'>&#34;&#60;ul>&#60;li>Hello&#60;/li>&#60;li>World&#60;/li>&#60;/ul>&#34;</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>  <span class='ace_storage ace_type'>const</span> <span class='ace_identifier'>rule</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_keyword'>new</span> <span class='ace_identifier'>hext</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>Rule</span><span class='ace_paren ace_lparen'>(</span><span class='ace_string'>&#34;&#60;li @text:my_text />&#34;</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>  <span class='ace_storage ace_type'>const</span> <span class='ace_identifier'>result</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_identifier'>rule</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>extract</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>html</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>map</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>x</span> <span class='ace_storage ace_type'>=></span> <span class='ace_identifier'>x</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>my_text</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_support ace_function'>join</span><span class='ace_paren ace_lparen'>(</span><span class='ace_string'>&#34;, &#34;</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>  <span class='ace_storage ace_type'>console</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_support ace_function ace_firebug'>log</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>result</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span> <span class='ace_comment'>// &#34;Hello, World&#34;</span>
</div><div class='ace_line'><span class='ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml'>&#60;/</span><span class='ace_meta ace_tag ace_script ace_tag-name ace_xml'>script</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>></span>
</div></div></div></code></pre>
  </div>
  <div class="sixteen wide column">
    Using hext.js also works in Node:
  </div>
  <div class="sixteen wide column">
    <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_storage ace_type'>const</span> <span class='ace_identifier'>loadHext</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_identifier'>require</span><span class='ace_paren ace_lparen'>(</span><span class='ace_string'>&#39;./hext.js&#39;</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_identifier'>loadHext</span><span class='ace_paren ace_lparen'>(</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>then</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>hext</span> <span class='ace_storage ace_type'>=></span> <span class='ace_paren ace_lparen'>{</span>
</div><div class='ace_line'>  <span class='ace_storage ace_type'>const</span> <span class='ace_identifier'>html</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_keyword'>new</span> <span class='ace_identifier'>hext</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>Html</span><span class='ace_paren ace_lparen'>(</span><span class='ace_string'>&#34;&#60;ul>&#60;li>Hello&#60;/li>&#60;li>World&#60;/li>&#60;/ul>&#34;</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>  <span class='ace_storage ace_type'>const</span> <span class='ace_identifier'>rule</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_keyword'>new</span> <span class='ace_identifier'>hext</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>Rule</span><span class='ace_paren ace_lparen'>(</span><span class='ace_string'>&#34;&#60;li @text:my_text />&#34;</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>  <span class='ace_storage ace_type'>const</span> <span class='ace_identifier'>result</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_identifier'>rule</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>extract</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>html</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>map</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>x</span> <span class='ace_storage ace_type'>=></span> <span class='ace_identifier'>x</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>my_text</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_support ace_function'>join</span><span class='ace_paren ace_lparen'>(</span><span class='ace_string'>&#34;, &#34;</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>  <span class='ace_storage ace_type'>console</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_support ace_function ace_firebug'>log</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>result</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span> <span class='ace_comment'>// &#34;Hello, World&#34;</span>
</div><div class='ace_line'><span class='ace_paren ace_rparen'>})</span><span class='ace_punctuation ace_operator'>;</span>
</div></div></div></code></pre>
  </div>
  <div class="sixteen wide column">
    To test whether a specific browser supports hext.js, navigate to <a href="https://hext.thomastrapp.com/hext.js-test">hext.thomastrapp.com/hext.js-test</a>.
  </div>
</div>

  <a class="scrollspy anchor" id="hext-for-ruby"></a>
<h1 class="ui header">Hext for Ruby</h1>
<div class="ui doubling top aligned two column grid">
  <div class="sixteen wide column">
    Build and install <a href="https://github.com/html-extract/hext/tree/master/libhext/bindings/ruby">Hext for Ruby</a>.
    See the example below for usage instructions.
    Also check out
<a href="https://github.com/html-extract/hext/blob/master/libhext/bindings/ruby/htmlext.rb">htmlext.rb</a>
    which is a stripped down Ruby port of the htmlext command line utility.
  </div>
  <div class="sixteen wide column">
    <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_support ace_function'>require</span> <span class='ace_string ace_start'>&#39;</span><span class='ace_string'>hext</span><span class='ace_string ace_end'>&#39;</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'># Hext::Html&#39;s initializer expects a single argument</span>
</div><div class='ace_line'><span class='ace_comment'># containing an UTF-8 encoded string of HTML.</span>
</div><div class='ace_line'><span class='ace_identifier'>html</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_support ace_class'>Hext</span><span class='ace_punctuation'>::</span><span class='ace_support ace_class'>Html</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_support ace_function'>new</span><span class='ace_paren ace_lparen'>(</span><span class='ace_constant'>&#60;&#60;-</span><span class='ace_string'>&#39;</span><span class='ace_support ace_class'>HTML_INPUT</span><span class='ace_string'>&#39;</span><span class='ace_paren ace_rparen'>)</span>
</div><div class='ace_line'><span class='ace_string'>&#60;a href=&#34;one.html&#34;>  &#60;img src=&#34;one.jpg&#34; />  &#60;/a></span>
</div><div class='ace_line'><span class='ace_string'>&#60;a href=&#34;two.html&#34;>  &#60;img src=&#34;two.jpg&#34; />  &#60;/a></span>
</div><div class='ace_line'><span class='ace_string'>&#60;a href=&#34;three.html&#34;>&#60;img src=&#34;three.jpg&#34; />&#60;/a></span>
</div><div class='ace_line'><span class='ace_support ace_class'>HTML_INPUT</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'># Hext::Rule&#39;s initializer expects a single argument</span>
</div><div class='ace_line'><span class='ace_comment'># containing a Hext snippet.</span>
</div><div class='ace_line'><span class='ace_comment'># Raises an exception of type ArgumentError on invalid syntax.</span>
</div><div class='ace_line'><span class='ace_identifier'>rule</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_support ace_class'>Hext</span><span class='ace_punctuation'>::</span><span class='ace_support ace_class'>Rule</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_support ace_function'>new</span><span class='ace_paren ace_lparen'>(</span><span class='ace_string ace_start'>&#34;</span><span class='ace_string'>&#60;a href:link>  &#60;img src:image />  &#60;/a></span><span class='ace_string ace_end'>&#34;</span><span class='ace_paren ace_rparen'>)</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'># Hext::Rule.extract expects an argument of type Hext::Html.</span>
</div><div class='ace_line'><span class='ace_comment'># Returns an Array of Hashes which contain key-value pairs</span>
</div><div class='ace_line'><span class='ace_comment'># of type String.</span>
</div><div class='ace_line'><span class='ace_identifier'>result</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_identifier'>rule</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_support ace_function'>extract</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>html</span><span class='ace_paren ace_rparen'>)</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'># hext.Rule.extract has a second, optional parameter</span>
</div><div class='ace_line'><span class='ace_comment'># of type unsigned int, called max_searches.</span>
</div><div class='ace_line'><span class='ace_comment'># The search for matching elements is aborted by</span>
</div><div class='ace_line'><span class='ace_comment'># throwing an exception after this limit is reached.</span>
</div><div class='ace_line'><span class='ace_comment'># The default is 0, which never aborts. If running</span>
</div><div class='ace_line'><span class='ace_comment'># untrusted hext templates, it is recommend to set</span>
</div><div class='ace_line'><span class='ace_comment'># max_searches to some high value, like 10000, to</span>
</div><div class='ace_line'><span class='ace_comment'># protect against resource exhaustion.</span>
</div><div class='ace_line'><span class='ace_comment'># result = rule.extract(html, 10000);</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'># print each key-value pair</span>
</div><div class='ace_line'><span class='ace_identifier'>result</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>each</span> <span class='ace_keyword'>do</span> <span class='ace_keyword ace_operator'>|</span><span class='ace_identifier'>map</span><span class='ace_keyword ace_operator'>|</span>
</div><div class='ace_line'>  <span class='ace_identifier'>map</span><span class='ace_punctuation ace_operator'>.</span><span class='ace_identifier'>each</span> <span class='ace_keyword'>do</span> <span class='ace_keyword ace_operator'>|</span><span class='ace_identifier'>key</span><span class='ace_punctuation ace_operator'>,</span> <span class='ace_identifier'>value</span><span class='ace_keyword ace_operator'>|</span>
</div><div class='ace_line'>    <span class='ace_support ace_function'>puts</span> <span class='ace_string ace_start'>&#34;</span><span class='ace_paren ace_start'>#{</span><span class='ace_identifier'>key</span><span class='ace_paren ace_rparen'>}</span><span class='ace_string'>: </span><span class='ace_paren ace_start'>#{</span><span class='ace_identifier'>value</span><span class='ace_paren ace_rparen'>}</span><span class='ace_string ace_end'>&#34;</span>
</div><div class='ace_line'>  <span class='ace_keyword'>end</span>
</div><div class='ace_line'>  <span class='ace_support ace_function'>puts</span>
</div><div class='ace_line'><span class='ace_keyword'>end</span>
</div></div></div></code></pre>
  </div>
</div>

  <a class="scrollspy anchor" id="hext-for-php"></a>
<h1 class="ui header">Hext for PHP</h1>
<div class="ui doubling top aligned two column grid">
  <div class="sixteen wide column">
    Build and install <a href="https://github.com/html-extract/hext/tree/master/libhext/bindings/php">Hext for PHP</a>.
    See the example below for usage instructions.
    Also check out
<a href="https://github.com/html-extract/hext/blob/master/libhext/bindings/php/htmlext.php">htmlext.php</a>
    which is a stripped down PHP port of the htmlext command line utility.
  </div>
  <div class="sixteen wide column">
    <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_support ace_php_tag'>&#60;?php</span>
</div><div class='ace_line'><span class='ace_support ace_function'>require</span> <span class='ace_string'>&#39;hext.php&#39;</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'># HextHtml&#39;s constructor expects a single argument</span>
</div><div class='ace_line'><span class='ace_comment'># containing an UTF-8 encoded string of HTML.</span>
</div><div class='ace_line'><span class='ace_variable'>$html</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_keyword'>new</span> <span class='ace_support ace_class'>HextHtml</span><span class='ace_paren ace_lparen'>(</span>
</div><div class='ace_line'>  <span class='ace_string'>&#39;&#60;a href=&#34;one.html&#34;>  &#60;img src=&#34;one.jpg&#34; />  &#60;/a></span>
</div><div class='ace_line'><span class='ace_string'>   &#60;a href=&#34;two.html&#34;>  &#60;img src=&#34;two.jpg&#34; />  &#60;/a></span>
</div><div class='ace_line'><span class='ace_string'>   &#60;a href=&#34;three.html&#34;>&#60;img src=&#34;three.jpg&#34; />&#60;/a>&#39;</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'># HextRule&#39;s constructor expects a single argument</span>
</div><div class='ace_line'><span class='ace_comment'># containing a Hext snippet.</span>
</div><div class='ace_line'><span class='ace_comment'># Throws an exception on invalid syntax.</span>
</div><div class='ace_line'><span class='ace_variable'>$rule</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_keyword'>new</span> <span class='ace_support ace_class'>HextRule</span><span class='ace_paren ace_lparen'>(</span><span class='ace_string'>&#39;&#60;a href:link>&#39;</span>.
</div><div class='ace_line'><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span> <span class='ace_string'>&#39;  &#60;img src:image />&#39;</span>.
</div><div class='ace_line'><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span><span class='ace_indent-guide'>    </span> <span class='ace_string'>&#39;&#60;/a>&#39;</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'># HextRule->extract expects an argument of type HextHtml.</span>
</div><div class='ace_line'><span class='ace_comment'># Returns an array containing arrays which contain</span>
</div><div class='ace_line'><span class='ace_comment'># key-value pairs of type string.</span>
</div><div class='ace_line'><span class='ace_variable'>$result</span> <span class='ace_keyword ace_operator'>=</span> <span class='ace_variable'>$rule</span><span class='ace_keyword ace_operator'>-></span><span class='ace_support ace_function'>extract</span><span class='ace_paren ace_lparen'>(</span><span class='ace_variable'>$html</span><span class='ace_paren ace_rparen'>)</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'># hext.Rule.extract has a second, optional parameter</span>
</div><div class='ace_line'><span class='ace_comment'># of type unsigned int, called max_searches.</span>
</div><div class='ace_line'><span class='ace_comment'># The search for matching elements is aborted by</span>
</div><div class='ace_line'><span class='ace_comment'># throwing an exception after this limit is reached.</span>
</div><div class='ace_line'><span class='ace_comment'># The default is 0, which never aborts. If running</span>
</div><div class='ace_line'><span class='ace_comment'># untrusted hext templates, it is recommend to set</span>
</div><div class='ace_line'><span class='ace_comment'># max_searches to some high value, like 10000, to</span>
</div><div class='ace_line'><span class='ace_comment'># protect against resource exhaustion.</span>
</div><div class='ace_line'><span class='ace_comment'># $result = $rule->extract($html, 10000);</span>
</div><div class='ace_line'>
</div><div class='ace_line'><span class='ace_comment'># print each key-value pair</span>
</div><div class='ace_line'><span class='ace_keyword'>foreach</span><span class='ace_paren ace_lparen'>(</span><span class='ace_variable'>$result</span> <span class='ace_keyword'>as</span> <span class='ace_variable'>$map</span><span class='ace_paren ace_rparen'>)</span>
</div><div class='ace_line'><span class='ace_paren ace_lparen'>{</span>
</div><div class='ace_line'>  <span class='ace_keyword'>foreach</span><span class='ace_paren ace_lparen'>(</span><span class='ace_variable'>$map</span> <span class='ace_keyword'>as</span> <span class='ace_variable'>$key</span> <span class='ace_keyword ace_operator'>=></span> <span class='ace_variable'>$value</span><span class='ace_paren ace_rparen'>)</span>
</div><div class='ace_line'>    <span class='ace_support ace_function'>echo</span> <span class='ace_string'>&#34;</span><span class='ace_variable'>$key</span><span class='ace_string'>: </span><span class='ace_variable'>$value</span><span class='ace_constant ace_language ace_escape'>\n</span><span class='ace_string'>&#34;</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'>
</div><div class='ace_line'>  <span class='ace_support ace_function'>echo</span> <span class='ace_string'>&#34;</span><span class='ace_constant ace_language ace_escape'>\n</span><span class='ace_string'>&#34;</span><span class='ace_punctuation ace_operator'>;</span>
</div><div class='ace_line'><span class='ace_paren ace_rparen'>}</span>
</div></div></div></code></pre>
  </div>
</div>

  <a class="scrollspy anchor" id="build-hext-from-source"></a>
<h1 class="ui header">Building Hext from Source</h1>
<div class="ui two column very relaxed stackable grid">
  <div class="column">
    <h3>On a Debian-based distribution</h3>
    <p class="bottom-attached">
      Install the following packages:
    </p>
    <ul class="ui list">
      <li>g++ ≥7.3 or clang ≥6.0</li>
      <li>cmake ≥3.8</li>
      <li>libboost-dev ≥1.55</li>
      <li>libboost-regex-dev ≥1.55</li>
      <li>libboost-program-options-dev ≥1.55</li>
      <li>libgumbo-dev ≥0.10.1</li>
      <li>rapidjson-dev ≥1.1.0</li>
    </ul>
  </div>
  <div class="column">
    <h3>On other systems (*nix, OS X, Win)</h3>
    <p class="bottom-attached">
      You will need:
    </p>
    <ul class="ui list">
      <li>g++ ≥7.3 or clang ≥6.0</li>
      <li><a href="https://cmake.org/">CMake</a> ≥3.8</li>
      <li><a href="http://www.boost.org/">Boost</a> ≥1.55,
          specifically Boost.Regex and Boost.Program_options</li>
      <li>libtool and autoconf for building
          <a href="https://github.com/google/gumbo-parser">Gumbo</a></li>
      <li>
          Build and install <a href="https://github.com/google/gumbo-parser">Gumbo</a>
          (<a href="https://github.com/google/gumbo-parser/archive/v0.10.1.tar.gz">v0.10.1</a>)
          </li>
      <li>
          <a href="https://github.com/Tencent/rapidjson">RapidJSON</a>,
          which is a header only library
          (<a href="https://github.com/Tencent/rapidjson/archive/v1.1.0.tar.gz">v1.1.0</a>)
          </li>
    </ul>
  </div>
</div>
<div class="ui doubling top aligned two column grid">
  <div class="six wide column">
    <p>
      Download and extract the latest Hext release and navigate to the
      top-level build directory.
      Then call cmake and make to build the project.<br>
      If all went well you'll find the htmlext binary in the current directory.
    </p>
  </div>
  <div class="ten wide column">
    <pre class="ace-static-hl"><code>wget https://github.com/html-extract/hext/archive/v1.0.13.tar.gz
tar xf *.tar.gz
cd hext*/build
cmake -DBUILD_SHARED_LIBS=On .. && make -j 2
./htmlext --help</code></pre>
  </div>
  <div class="eight wide column">
    <p>
      If you wish to install Hext on your system, run <i>make install</i> as root.
      This will install the htmlext binary, libhext's header files, the
      libhext library and package configuration files for CMake.<br>
      Run <i>ldconfig</i> so your linker can find the newly installed libhext.
    </p>
  </div>
  <div class="eight wide column">
    <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># run as root:</span>
</div><div class='ace_line'><span class='ace_identifier'>make</span> <span class='ace_identifier'>install</span>
</div><div class='ace_line'><span class='ace_comment'># tell your linker that there's a new library:</span>
</div><div class='ace_line'><span class='ace_identifier'>ldconfig</span>
</div></div></div></code></pre>
  </div>
</div>

  <a class="scrollspy anchor" id="libhext"></a>
<h1 class="ui header">Using libhext in a CMake Project</h1>
<div class="ui doubling top aligned two column grid">
  <div class="seven wide column">
    <p>
      After <a href="#build-hext-from-source">building and installing Hext</a> you can use
      CMake's own FindPackage to add libhext to your project and you should be good to go.
    </p>
  </div>
  <div class="nine wide column">
    <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># Load HextConfig.cmake</span>
</div><div class='ace_line'><span class='ace_identifier'>find_package</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>Hext</span><span class='ace_paren ace_rparen'>)</span>
</div><div class='ace_line'><span class='ace_comment'># Link libhext</span>
</div><div class='ace_line'><span class='ace_identifier'>target_link_libraries</span><span class='ace_paren ace_lparen'>(</span><span class='ace_identifier'>your</span><span class='ace_keyword ace_operator'>-</span><span class='ace_identifier'>target</span> <span class='ace_identifier'>hext::hext</span><span class='ace_paren ace_rparen'>)</span></div></div></div></code></pre>
  </div>
  <div style="padding-top:0" class="sixteen wide column">
    Implementation details of libhext are covered in the <a href="/libhext-overview">libhext C++ library overview</a> and <a href="/libhext-documentation">libhext's code documentation</a>.
  </div>
</div>


</div>

    </main>

    <div class="ui inverted segment footer">
      <div class="ui about-questions two column stackable grid container">
        <div class="column">
          <div class="ui two column grid">
            <div class="three wide column">
              <h3>How?</h3>
            </div>
            <div class="thirteen wide column">
              <p class="slim"><b>Hext</b> was built with
                 C++,
                 <a href="https://github.com/google/gumbo-parser">Gumbo</a>,
                 <a href="https://www.colm.net/open-source/ragel/">Ragel</a>,
                 <a href="https://www.boost.org/">Boost</a>,
                 <a href="https://github.com/miloyip/rapidjson">RapidJSON</a>,
                 <a href="https://github.com/google/googletest">Google Test</a>,
                 <a href="https://www.doxygen.nl/">doxygen</a> and
                 <a href="https://cmake.org/">CMake</a>.
              </p>
              <p><b>This page</b> was cobbled together with
                 <a href="https://jekyllrb.com/">Jekyll</a>,
                 <a href="https://semantic-ui.com/">Semantic UI</a>,
                 <a href="https://jquery.com/">jQuery</a>,
                 <a href="https://ace.c9.io/">Ace Code Editor</a> and
                 <a href="https://github.com/boostorg/beast">Boost.Beast</a>,
                 which powers the "Try Hext in your Browser!" section.
              </p>
            </div>
          </div>
        </div>
        <div class="column">
          <div class="ui two column grid">
            <div class="three wide column">
              <h3>Who?</h3>
            </div>
            <div class="thirteen wide column">
              <p>I'm <a href="http://thomastrapp.com/">Tom</a>,
                 a programmer from Munich and I did all this!<br>
                 Leave a message: <script type="text/javascript">eval(unescape('%64%6f%63%75%6d%65%6e%74%2e%77%72%69%74%65%28%27%3c%61%20%68%72%65%66%3d%22%6d%61%69%6c%74%6f%3a%68%65%78%74%40%74%68%6f%6d%61%73%74%72%61%70%70%2e%63%6f%6d%22%3e%68%65%78%74%40%74%68%6f%6d%61%73%74%72%61%70%70%2e%63%6f%6d%3c%2f%61%3e%27%29'))</script><noscript style="color:red">Please enable Javascript to display email address</noscript>
               </p>
            </div>
            <div class="three wide column">
              <h3>Hext?</h3>
            </div>
            <div class="thirteen wide column">
               <p>
                 The word "<b>Hext</b>" is a combination of "<b>HTML</b>" and
                 "<b>extraction</b>".
                 The German adjective "<b>ver</b>·<b>hext</b>"
                 may be translated to "<b>bewitched</b>" or "<b>hexed</b>".
                 <i><a href="https://en.wiktionary.org/wiki/hexen">
                 &raquo; Wiktionary</a></i>
              </p>
            </div>
          </div>
        </div>
        <div class="center aligned sixteen wide column">
          <b>Imprint/Impressum/This site is operated by:</b><br>
          <a href="https://thomastrapp.com/">Thomas&nbsp;Trapp</a>
          ·&nbsp;Rümannstr.&nbsp;61 ·&nbsp;80804&nbsp;München
          ·&nbsp;<script type="text/javascript">eval(unescape('%64%6f%63%75%6d%65%6e%74%2e%77%72%69%74%65%28%27%3c%61%20%68%72%65%66%3d%22%6d%61%69%6c%74%6f%3a%68%65%78%74%40%74%68%6f%6d%61%73%74%72%61%70%70%2e%63%6f%6d%22%3e%68%65%78%74%40%74%68%6f%6d%61%73%74%72%61%70%70%2e%63%6f%6d%3c%2f%61%3e%27%29'))</script><noscript style="color:red">Please enable Javascript to display email address</noscript><br>

<b>Datenschutzerklärung:</b><br>Diese Seite wird durch <a href="https://github.com/">Github</a> (Github Pages) bereitgestellt. Github protokolliert Zugriffe.<br>Siehe <a href="https://help.github.com/en/articles/github-privacy-statement">Github's Datenschutzerklärung</a>.<br><b>Privacy Policy:</b><br>This site is hosted by <a href="https://github.com/">Github</a> (Github Pages). Github records access.<br>Refer to <a href="https://help.github.com/en/articles/github-privacy-statement">Github's Privacy Policy</a>.<br>

        </div>
      </div>
    </div>
  </body>
</html>
